<div class="content" style="margin-top: 30px;">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h5 class="title">Ürün Güncelle</h5>
      </div>
      <div class="card-body">
        <form action="" [formGroup]="productUpdateForm" class="form-floating">
            <div class="form-group form-floating">
              <input type="text" id="name" formControlName="name" class="form-control" placeholder="Ürün Adı" style="margin-bottom: 20px;" [(ngModel)]="product.name">
              <label for="name">Ürün Adı</label>
            </div>
            <div class="form-group form-floating">
              <input type="text" id="brand" formControlName="brand" class="form-control" placeholder="Ürün Markası" style="margin-bottom: 20px;" [(ngModel)]="product.brand">
              <label for="brand">Ürün Markası</label>
            </div>
            <div class="form-group form-floating">
              <input type="text" id="unit" formControlName="unit" class="form-control" placeholder="Ürün Birimi" style="margin-bottom: 20px;" [(ngModel)]="product.unit">
              <label for="unit">Ürün Birimi</label>
            </div>
            <div class="form-group form-floating">
              <textarea id="description" formControlName="description" style="margin-bottom: 20px; height: 150px" class="form-control" placeholder="Ürün Açıklaması" [(ngModel)]="product.description"></textarea>
              <label for="description">Ürün Açıklaması</label>
            </div>
            <div class="form-group form-floating">
              <select id="categoryId" formControlName="categoryId" class="form-select" aria-label="Kategori Seçiniz" style="margin-bottom: 20px;" [(ngModel)]="product.categoryId">
                <option *ngFor="let category of categories" value="{{category.id}}"> {{category.name}} </option>
              </select>
              <label for="categoryId">Kategori Seçiniz</label>
            </div>
            <div class="form-group form-floating">
              <input type="number" step=".01" id="purchasePrice" formControlName="purchasePrice" class="form-control" placeholder="Alış Fiyatı" style="margin-bottom: 20px;" [(ngModel)]="product.purchasePrice">
              <label for="purchasePrice">Alış Fiyatı</label>
            </div>
            <div class="form-group form-floating">
              <input type="number" step=".01" id="wholesalePrice" formControlName="wholesalePrice" class="form-control" placeholder="Toptan Fiyatı" style="margin-bottom: 20px;" [(ngModel)]="product.wholesalePrice">
              <label for="wholesalePrice">Toptan Fiyatı</label>
            </div>
            <div class="form-group form-floating">
              <input type="number" step=".01" id="retailPrice" formControlName="retailPrice" class="form-control" placeholder="Perakende Fiyatı" style="margin-bottom: 20px;" [(ngModel)]="product.retailPrice">
              <label for="retailPrice">Perakende Fiyatı</label>
            </div>
            <div class="form-group form-floating">
              <input type="number" id="minQuantityForWholesale" formControlName="minQuantityForWholesale" class="form-control" placeholder="Toptan İçin Minumum Adet" style="margin-bottom: 20px;" [(ngModel)]="product.minQuantityForWholesale">
              <label for="minQuantityForWholesale">Toptan İçin Minumum Adet</label>
            </div>
            <div class="form-group form-floating">
              <input type="number" id="payBackRate" formControlName="payBackRate" class="form-control" placeholder="Bonus Oranı" style="margin-bottom: 20px;" [(ngModel)]="product.payBackRate">
              <label for="payBackRate">Bonus Oranı</label>
            </div>
            <div class="form-group form-floating">
              <input type="number" id="stockAmount" formControlName="stockAmount" class="form-control" placeholder="Stok Adedi" style="margin-bottom: 20px;" [(ngModel)]="product.stockAmount">
              <label for="stockAmount">Stok Adedi</label>
            </div>
            <div class="container">
              <div class="row" *ngFor="let productImage of productImages; let i = index">
               <div class="card" style="margin-top: 1em; width: 30em;">
                <img
                class="card-img-top"
                src="{{ apiUrl }}{{ productImages[i].imagePath }}"
                alt="{{ product.name }}"
              />
                <button type="button" class="btn btn-danger" (click)="deleteImage(productImage.id)" style="margin-bottom: 1em;">Resmi Sil</button>

               </div>
              </div>

            </div>
           <div class="container" style="margin-top: 1em;">
            <div *ngFor="let i of addCount">
              <div class="input-group mb-3">
                <input type="file" accept="image/*" (change)="addImage($event)" class="form-control" id="image{{i}}" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
              </div>
            </div>
           </div>

        </form>
      </div>
      <div class="card-footer">
        <button type="button" class="btn btn-primary" (click)="productUpdate()">Ürünü Güncelle</button>
      </div>
    </div>

  </div>
</div>
